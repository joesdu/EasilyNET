# ADR-0001: 采用“纯内核 + I/O 外壳”架构

## 状态

Accepted

## 背景

Raft 正确性依赖状态机转移可预测与可验证。若在核心逻辑中混入网络/磁盘/定时器 I/O，会显著提升测试与排障复杂度。

## 决策

`RaftNode` 仅做状态转换：输入 `RaftMessage + RaftNodeState`，输出 `RaftAction[]`。

I/O 由外壳执行（传输、持久化、状态机应用、定时器驱动）。

## 影响

- 优点：可测试性高、故障可重放、跨传输/存储实现复用。
- 代价：运行时执行器（Runtime）复杂度上升，需要严格动作执行顺序。
